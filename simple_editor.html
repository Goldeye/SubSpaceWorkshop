<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>SubSpace Workshop</title>
    <script src="assets/vendor-js/FontAwesome.js"></script>
    <script type="module">

        window.$ = window.jQuery = require('jquery');
        const fs = require('fs');
        const stats = require("stats.js");
        const uuid = require('uuid');
        const PIXI = window.PIXI = require("pixi.js");
        require("pixi-tilemap");

        $(document).on('dragstart', '*', function (event) {
            event.preventDefault();
        });

        const tilemapChromaFragmentShader = fs.readFileSync("assets/glsl/tilemap_chroma.frag").toString();
        window.tilemapChromaFragmentShader = tilemapChromaFragmentShader;
        PIXI.tilemap.shaderGenerator.generateFragmentSrc = (maxTextures) => {
            return tilemapChromaFragmentShader.replace(/%count%/gi, maxTextures + "")
                .replace(/%forloop%/gi, PIXI.tilemap.shaderGenerator.generateSampleSrc(maxTextures));
        };

        // Project JS files.
        const main = require("./assets/js/main.js");

        // Start application.
        $(function () {
            main.start();
        });
    </script>
    <link rel="stylesheet" href="assets/css/project.min.css"/>
    <link rel="stylesheet" href="node_modules/highlight.js/styles/dracula.css"/>
</head>
<body>

<div class="ui-menubar">
    <div class="ui-menu">
        <label class="title">File</label>
        <div class="menu-contents">
            <div menu-id="new" class="menu-option"><label>New</label></div>
            <div menu-id="open" class="menu-option"><label>Open</label></div>
            <div menu-id="save" class="menu-option"><label>Save</label></div>
            <div menu-id="save-as" class="menu-option"><label>Save as</label></div>
            <div class="spacer"></div>
            <div menu-id="exit" class="menu-option"><label>Exit</label></div>
        </div>
    </div>
    <div class="ui-menu">
        <label class="title">Edit</label>
        <div class="menu-contents">
        </div>
    </div>
    <div class="ui-menu">
        <label class="title">View</label>
        <div class="menu-contents">
        </div>
    </div>
    <div class="ui-menu">
        <label class="title">Help</label>
        <div class="menu-contents">
            <div menu-id="about" class="menu-option"><label>About</label></div>
        </div>
    </div>
</div>

<div class="editor_frame dark">
    <div id="viewport-frame" class="viewport-frame right-panel-open">
        <div id="editor-tab-menu" class="ui-tab-menu"></div>
        <div class="map-viewport-container" style="display: block">
            <div id="viewport-container" class="map-viewport-canvas-container">
                <div class="viewport">
                    <div class="map-viewport-canvas-boxshadow"></div>
                    <div class="workspace-radar">
                        <canvas id="radar" class="radar" width="256" height="256"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
